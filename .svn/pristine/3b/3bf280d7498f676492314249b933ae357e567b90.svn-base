<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title></title>
	</head>

	<body id="root">
		<div class="mainContainer">

			<blockquote class="layui-elem-quote">
				<div class="layui-row layui-form">
					<div class="layui-col-xs6">

						<div class="layui-form-item">
							<label class="layui-form-label">学员分组</label>
							<div class="layui-input-block">
								<local-switch value.sync="submitForm.chbSwitch" text="开|关" initial="open" checked></local-switch>
							</div>
						</div>
					</div>
					<div class="layui-col-xs6" style="text-align: right">
                        <button data-method="offset" data-type="auto" class="layui-btn layui-btn-normal" value="添加一级分组"><i class="layui-icon"></i>添加分组</button>
					</div>
				</div>
			</blockquote>

            <div class="layui-collapse offToOn" lay-accordion="">
                <div class="layui-colla-item">
                    <div class="layui-colla-title">
                        <p class="title">长沙分校</p>
                        <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改一级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>

                        <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除一级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>

                        <button data-method="addLine" data-type="auto" class="layui-btn layui-btn-normal" value="添加二级分组" style="position:absolute;top:0;right:10px;padding:0;"><i class="layui-icon">&#xe654;</i></button>
                    </div>
                    <div class="layui-colla-content layui-show">
                        <div class="layui-collapse" lay-accordion="">
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">1231231</p>

                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>

                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>
                            </div>
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">22222222222</p>
                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>

                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>

                            </div>
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">333333333333333</p>
                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>

                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <div class="layui-colla-title">
                        <p class="title">广州分校</p>

                        <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改一级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>

                        <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除一级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>

                        <button data-method="addLine" data-type="auto" class="layui-btn layui-btn-normal" value="添加二级分组" style="position:absolute;top:0;right:10px;padding:0;"><i class="layui-icon">&#xe654;</i></button>
                    </div>
                    <div class="layui-colla-content ">
                        <div class="layui-collapse" lay-accordion="">
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">111111111111</p>

                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>

                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>
                            </div>
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">2222222222</p>

                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>

                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>

                            </div>
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">333333333333333</p>
                                   
                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>
                                    
                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <div class="layui-colla-title">
                        <p class="title">武汉分校</p>
                        
                        <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改一级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>
                        
                        <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除一级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                        
                        <button data-method="addLine" data-type="auto" class="layui-btn layui-btn-normal" value="添加二级分组" style="position:absolute;top:0;right:10px;padding:0;"><i class="layui-icon">&#xe654;</i></button>
                    </div>
                    <div class="layui-colla-content ">
                        <div class="layui-collapse" lay-accordion="">
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">1111111111111</p>
                                    
                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>
                                    
                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>
                            </div>
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">22222222222</p>
                                    
                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>
                                    
                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>

                            </div>
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">333333333333333</p>
                                   
                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>
                                   
                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <div class="layui-colla-title">
                        <p class="title">在线教育</p>
                        
                        <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改一级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>
                        
                        <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除一级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                        
                        <button data-method="addLine" data-type="auto" class="layui-btn layui-btn-normal" value="添加二级分组" style="position:absolute;top:0;right:10px;padding:0;"><i class="layui-icon">&#xe654;</i></button>
                    </div>
                    <div class="layui-colla-content ">
                        <div class="layui-collapse" lay-accordion="">
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">11111111111</p>

                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>
                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>
                            </div>
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">22222222222</p>

                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>
                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>

                            </div>
                            <div class="layui-colla-item">
                                <div class="layui-colla-title">
                                    <p class="title">333333333333333</p>

                                    <button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button>

                                    <button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
			<!--操作模板-->
		</div>
	</body>

</html>
<link href="//bbsresources.oss-cn-hangzhou.aliyuncs.com/js/modules/layer/css/layui.css" rel="stylesheet" />
<script src="//bbsresources.oss-cn-hangzhou.aliyuncs.com/js/modules/vue/vue.min.js"></script>
<script src="//bbsresources.oss-cn-hangzhou.aliyuncs.com/js/modules/layer/layui.js"></script>
<script src="//bbsresources.oss-cn-hangzhou.aliyuncs.com/js/require_config.js"></script>
<script>
	require_js_file(['table', 'form', 'jquery', 'tableExt', 'layedit', 'tree', 'layer','element'],
		function(fnr) {
			var table = layui.table;
			var form = layui.form;
			var tableExt = layui.tableExt;
			var layer = layui.layer;
			var element = layui.element;
			var $ = layui.$;

			//搜索条件
			var rootApp = new Vue({
			    el: '#root',
			    data: {
			    },
			    methods: {
			       
			    }

			});

		    //触发事件
			$('.mainContainer .layui-btn').on('click', function alter() {
			    var othis = $(this), method = othis.data('method');
			    active[method] ? active[method].call(this, othis) : '';
			    othat = othis.parent().parent().find(".title:first")
			    // console.log(othat.text(12313))
			    revised = othat.text()
			   
			});

			var active = {
			    modify: function (othis) {
                  var type = othis.data('type'),
                  text = othis.val();
                  layer.open({
                      type: 1
                    , offset: type 
                    , id: 'layerDemo' + type //防止重复弹出
                    , content: '<div style="padding: 20px 100px;">' + text + '<input placeholder="分组名" class="thisIpt"/>'+'</div>'
                    , btn: ['确定','取消']
                    , btnAlign: 'c' //按钮居中
                    , shade: 0.3 //显示遮罩
                     , success: function (layero) {
                         var btn = layero.find('.layui-layer-btn');
                         btn.css('text-align', 'center');
                         btn.find('.layui-layer-btn0').on("click",function(){
                             //console.log($(".thisIpt").val())
                             othat.text($(".thisIpt").val())
                         });
                     }
                  });
			   },
			   removeLine: function (othis) {
			       var type = othis.data('type'),
                   text = othis.val();
			       layer.open({
			           type: 1
                     , offset: type
                     , id: 'layerDemo' + type //防止重复弹出
                     , content: '<div style="padding: 20px 100px;">' + text + '</div>'
                     , btn: ['确定', '取消']
                     , btnAlign: 'c' //按钮居中
                     , shade: 0.3 //显示遮罩
                     , success: function (layero) {
                         var btn = layero.find('.layui-layer-btn');
                         btn.css('text-align', 'center');
                         btn.find('.layui-layer-btn0').on("click", function () {
                             othat.parent().parent().remove()
                         });
                     }
			       });
			   },
			   addLine: function (othis) {
			       var type = othis.data('type'),
                   text = othis.val();
			       layer.open({
			           type: 1
                     , offset: type
                     , id: 'layerDemo' + type //防止重复弹出
                     , content: '<div style="padding: 20px 100px;">' + text +'<input placeholder="分组名"/ class="addIpt">'+ '</div>'
                     , btn: ['确定', '取消']
                     , btnAlign: 'c' //按钮居中
                     , shade: 0.3 //显示遮罩
                     , success: function (layero) {
                         var btn = layero.find('.layui-layer-btn');
                         btn.css('text-align', 'center');
                         btn.find('.layui-layer-btn0').on("click",function(){
                             var appendtxt = $(".addIpt").val();
                            (othis.parent().parent().find(".layui-collapse")).append(
                                 '<div class="layui-colla-item"><div class="layui-colla-title"><p class="title">' + appendtxt + '</p><button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改二级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button><button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除二级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button></div></div>'
                                 )
                         });
                     }
			       });
			   },
			   offset: function (othis) {
			       var type = othis.data('type'),
                   text = othis.val();
			       layer.open({
			           type: 1
                     , offset: type
                     , id: 'layerDemo' + type //防止重复弹出
                     , content: '<div style="padding: 20px 100px;">' + text + '<input placeholder="分组名"/ class="offIpt">' + '</div>'
                     , btn: ['确定', '取消']
                     , btnAlign: 'c' //按钮居中
                     , shade: 0.3 //显示遮罩
                     , success: function (layero) {
                         var btn = layero.find('.layui-layer-btn');
                         btn.css('text-align', 'center');
                         btn.find('.layui-layer-btn0').on("click", function () {
                             var appendtxt = $(".offIpt").val();
                             (othis.parents().find(".offToOn")).append(
                             '<div class="layui-colla-item"><div class="layui-colla-title"><p class="title">' + appendtxt + '</p><button data-method="modify" data-type="auto" class="layui-btn layui-btn-normal" value="修改一级分组" style="position:absolute;top:0;right:50px;padding:0;"><i class="layui-icon">&#xe642;</i></button><button data-method="removeLine" data-type="auto" class="layui-btn layui-btn-normal" value="删除一级分组" style="position:absolute;top:0;right:30px;padding:0;"><i class="layui-icon">&#xe640;</i></button><button data-method="addLine" data-type="auto" class="layui-btn layui-btn-normal" value="添加二级分组" style="position:absolute;top:0;right:10px;padding:0;"><i class="layui-icon">&#xe654;</i></button></div><div class="layui-colla-content"><div class="layui-collapse" lay-accordion=""></div></div></div>'
                             )
                         });
                     }
			       });
			   }
			};

			

			//监听工具栏事件
			tableExt.addEvent("tool(listTable)", {
				"detail1": function(data, obj) {
					alert("当前状态1为【" + (data.status ? "启用" + data.id : "禁用" + data.id) + "】");

					//写业务逻辑

				},
				"detail2": function(data, obj) {
					alert("当前状态2为【" + (data.status ? "启用" + data.id : "禁用" + data.id) + "】");
				}
			});
		});
</script>